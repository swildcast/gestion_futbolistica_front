<!-- ============================================================================
     VISTA HTML - LISTA DE EQUIPOS
     ============================================================================
     Este archivo define la ESTRUCTURA VISUAL del componente
     
     PREGUNTA COMÚN: ¿Qué es el data binding en Angular?
     RESPUESTA: Es la conexión entre el HTML y el TypeScript. Hay 4 tipos:
                1. Interpolación: {{ variable }} - Muestra datos
                2. Property binding: [propiedad]="valor" - Vincula propiedades
                3. Event binding: (evento)="método()" - Maneja eventos
                4. Two-way binding: [(ngModel)]="variable" - Bidireccional
     
     PREGUNTA COMÚN: ¿Qué son las directivas en Angular?
     RESPUESTA: Son instrucciones en el HTML que modifican el DOM:
                - *ngIf: Muestra/oculta elementos condicionalmente
                - *ngFor: Repite elementos (como un bucle for)
                - *ngSwitch: Como un switch-case
     ============================================================================ -->

<div class="container">
    <!-- ========== ENCABEZADO ========== -->
    <div class="header">
        <h1>Gestión de Equipos</h1>

        <!-- CONCEPTO: Event binding con (click)
         Cuando el usuario hace clic, se ejecuta createEquipo() del componente -->
        <button mat-raised-button color="primary" (click)="createEquipo()">
            <mat-icon>add</mat-icon>
            Nuevo Equipo
        </button>
    </div>

    <!-- ========== SPINNER DE CARGA ========== -->
    <!-- *ngIf es una DIRECTIVA ESTRUCTURAL que muestra/oculta el elemento
       CONCEPTO: Solo se muestra mientras loading === true -->
    <div *ngIf="loading" class="loading-container">
        <mat-spinner></mat-spinner>
        <p>Cargando equipos...</p>
    </div>

    <!-- ========== TABLA DE EQUIPOS ========== -->
    <!-- *ngIf="!loading" significa: "solo mostrar si NO está cargando"
       CONCEPTO: Cuando loading cambia a false, se oculta el spinner y se muestra la tabla -->
    <div *ngIf="!loading" class="table-container">

        <!-- mat-table es un componente de Angular Material para tablas
         [dataSource] es PROPERTY BINDING: vincula la propiedad dataSource del TS
         PREGUNTA COMÚN: ¿Qué es [dataSource]?
         RESPUESTA: Es un MatTableDataSource que contiene los datos de la tabla -->
        <table mat-table [dataSource]="dataSource" class="mat-elevation-z8">

            <!-- ========== COLUMNA: NOMBRE ========== -->
            <!-- matColumnDef define el IDENTIFICADOR de la columna
           NOTA: Debe coincidir con displayedColumns en el TS -->
            <ng-container matColumnDef="nombre">
                <!-- mat-header-cell: Celda del encabezado -->
                <th mat-header-cell *matHeaderCellDef>Nombre</th>
                <!-- mat-cell: Celda de datos
             element es cada Team del array
             CONCEPTO: {{ element.nombre }} es INTERPOLACIÓN: muestra el valor -->
                <td mat-cell *matCellDef="let element">{{ element.nombre }}</td>
            </ng-container>

            <!-- ========== COLUMNA: CIUDAD ========== -->
            <ng-container matColumnDef="ciudad">
                <th mat-header-cell *matHeaderCellDef>Ciudad</th>
                <td mat-cell *matCellDef="let element">{{ element.ciudad }}</td>
            </ng-container>

            <!-- ========== COLUMNA: ESTADIO ========== -->
            <ng-container matColumnDef="estadio">
                <th mat-header-cell *matHeaderCellDef>Estadio</th>
                <td mat-cell *matCellDef="let element">{{ element.estadio }}</td>
            </ng-container>

            <!-- ========== COLUMNA: AÑO DE FUNDACIÓN ========== -->
            <ng-container matColumnDef="anioFundacion">
                <th mat-header-cell *matHeaderCellDef>Año Fundación</th>
                <td mat-cell *matCellDef="let element">{{ element.anioFundacion }}</td>
            </ng-container>

            <!-- ========== COLUMNA: ACCIONES (Editar/Eliminar) ========== -->
            <ng-container matColumnDef="actions">
                <th mat-header-cell *matHeaderCellDef>Acciones</th>
                <td mat-cell *matCellDef="let element">
                    <!-- CONCEPTO: (click)="editEquipo(element.id)" es EVENT BINDING
               Cuando se hace clic, se ejecuta editEquipo() pasando el ID -->
                    <button mat-icon-button color="primary" (click)="editEquipo(element.id)" matTooltip="Editar equipo">
                        <mat-icon>edit</mat-icon>
                    </button>

                    <button mat-icon-button color="warn" (click)="deleteEquipo(element.id)"
                        matTooltip="Eliminar equipo">
                        <mat-icon>delete</mat-icon>
                    </button>
                </td>
            </ng-container>

            <!-- ========== DEFINICIÓN DE FILAS ========== -->
            <!-- mat-header-row: Fila de encabezados
           [columns] vincula las columnas definidas en displayedColumns (TS) -->
            <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>

            <!-- mat-row: Filas de datos
           CONCEPTO: Angular crea automáticamente una fila por cada Team -->
            <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
        </table>

        <!-- ========== MENSAJE SI NO HAY DATOS ========== -->
        <!-- *ngIf="equipos.length === 0" muestra este mensaje solo si el array está vacío -->
        <div *ngIf="equipos.length === 0" class="no-data">
            <mat-icon>info</mat-icon>
            <p>No hay equipos registrados. ¡Crea el primero!</p>
        </div>
    </div>
</div>

<!-- ============================================================================
     CONCEPTOS CLAVE CUBIERTOS EN ESTE HTML:
     ============================================================================
     1. Interpolación: {{ variable }}
     2. Property binding: [propiedad]="valor"
     3. Event binding: (evento)="método()"
     4. Directivas estructurales: *ngIf, *ngFor
     5. Angular Material components: mat-table, mat-button, mat-icon
     6. MatTableDataSource para tablas dinámicas
     7. Tooltips con matTooltip
     8. Iconos de Material Design
     ============================================================================ -->